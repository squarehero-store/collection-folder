document.addEventListener("DOMContentLoaded",function(){function e(e,t,n=!1){t.forEach(t=>{const o=document.createElement("div");n?o.classList.add("container","header-menu-nav-item","header-menu-nav-item--external"):o.classList.add("header-nav-folder-item","header-nav-folder-item--external");const r=document.createElement("a");r.href=t.fullUrl,r.textContent=t.title,n&&r.setAttribute("tabindex","0"),o.appendChild(r),e.appendChild(o)})}function t(t){const n=document.querySelectorAll(".header-nav-folder-content");n.forEach(n=>{const o=n.querySelectorAll(".header-nav-folder-item");o.forEach(o=>{const r=o.querySelector("a");if(r){const o=r.getAttribute("href"),c=o.split("/").pop();t.includes(c)&&fetch(`${o}?format=json`).then(e=>{if(!e.ok)throw new Error("Not a collection");return e.json()}).then(t=>{const o=t.items;o&&o.length>0&&(n.innerHTML="",e(n,o))}).catch(e=>{console.log(`${o} is not a collection. Error: ${e}`)})}})})}function n(t){const n=document.querySelector(".header-menu-nav-list");n&&t.forEach(t=>{const o=n.querySelectorAll(`a[href="/${t}"]`);o.forEach(t=>{const n=t.closest(".header-menu-nav-item"),o=t.getAttribute("href");fetch(`${o}?format=json`).then(e=>{if(!e.ok)throw new Error("Not a collection");return e.json()}).then(t=>{const o=t.items;if(o&&o.length>0){const t=n.closest(".header-menu-nav-folder-content");if(t){const n=t.querySelector(".header-menu-controls");t.innerHTML="",n&&t.appendChild(n),e(t,o,!0)}}}).catch(e=>{console.log(`Mobile ${o} is not a collection. Error: ${e}`)})})})}const o=document.querySelector('meta[squarehero-plugin="collection-folder"]');if(o){const e=o.getAttribute("enabled");if("true"===e){const e=o.getAttribute("target").split(",").map(e=>e.trim());t(e),n(e)}}});